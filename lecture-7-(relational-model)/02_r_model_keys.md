What **Relational Model Keys** are and how they work.

## **12. Relational Model Keys**

In a **relational database**, data is stored in **tables**. But we need **keys** to identify and connect data properly. Keys are like **special columns** that help:

* Identify **unique rows** in a table.
* **Link tables** together.
  Let’s now look at each type of key, one by one:

### **1. Super Key (SK)**

**Definition**:
Any set (combination) of attributes (columns) in a table that can **uniquely identify each row (tuple)** in that table.

**Explanation**:

* A **super key** can have **one or more columns**.
* As long as the combination of values in that key is **unique** for every row, it qualifies.
* Example:
  In a `Students` table:

  ```
  StudentID | Name  | PhoneNumber
  --------------------------------
     101    | Rahul | 9876543210
     102    | Priya | 9999999999
  ```

  Possible **Super Keys**:

  * `{StudentID}`
  * `{PhoneNumber}`
  * `{StudentID, Name}`
  * `{StudentID, PhoneNumber}`
    (All of these combinations uniquely identify a student.)

### **2. Candidate Key (CK)**

**Definition**:
A **minimum subset** of a Super Key that still uniquely identifies each row.

**Explanation**:

* Candidate Keys are **minimal** super keys — that means:

  * They have **no extra/unnecessary columns**.
  * They are the **best choices** to uniquely identify rows.
* In the above example:

  * `{StudentID}` and `{PhoneNumber}` are both **candidate keys** (no extra columns).
  * `{StudentID, Name}` is **not** a candidate key because it includes extra info — it's not minimal.

✅ **Important Rule**:
**Candidate Key values should never be NULL (empty).** Every row must have a value.

### **3. Primary Key (PK)**

**Definition**:
A **candidate key** that is **chosen by the database designer** to be the **main key** used to uniquely identify rows.

**Explanation**:

* Out of all the candidate keys, **one is selected** to be the **primary key**.
* It must follow 2 rules:

  * It must be **unique** (no duplicate values).
  * It must **not be NULL** (must have a value).
* In the `Students` example:

  * If we choose `StudentID` → that becomes the **Primary Key**.

### **4. Alternate Key (AK)**

**Definition**:
All **other candidate keys** that are **not chosen** as the primary key.

**Explanation**:

* Suppose:

  * Candidate Keys = `StudentID`, `PhoneNumber`
  * You choose `StudentID` as the **Primary Key**.
  * Then `PhoneNumber` becomes the **Alternate Key**.

### **5. Foreign Key (FK)**

**Definition**:
A column that **connects one table to another**. It refers to the **Primary Key** of another table.

**Explanation**:

* Let’s say we have two tables:

  * `Students(StudentID, Name)`
  * `Marks(MarkID, StudentID, Subject, Score)`
* `StudentID` in the `Marks` table is a **Foreign Key**.
* It refers to the `StudentID` in the `Students` table.

#### More details:

1. A foreign key **creates a relationship** between two tables.
2. If one table (`r1`) includes the **primary key of another table** (`r2`) as one of its attributes, then:

   * That attribute is the **foreign key** in `r1`.
   * `r1` is called the **Referencing Table** (or Child Table).
   * `r2` is called the **Referenced Table** (or Parent Table).
3. Foreign keys ensure that **data matches** across tables. You cannot have a student ID in `Marks` that doesn’t exist in the `Students` table.

### **6. Composite Key**

**Definition**:
A **Primary Key** that is made up of **two or more columns**.

**Explanation**:

* Sometimes, no single column can uniquely identify a row.
* In such cases, we combine multiple columns to form a unique identifier.
* Example:

  ```
  Orders Table:
  -----------------------------
  OrderID | ProductID | Quantity
  -----------------------------
     101  |    001    |   2
     101  |    002    |   1
  ```

  * Here, `OrderID` alone isn't unique.
  * But combination `{OrderID, ProductID}` is unique.
  * So this becomes a **Composite Primary Key**.

### **7. Compound Key**

**Definition**:
A **key** formed using **two or more foreign keys**.

**Explanation**:

* This is a bit advanced, but here’s a breakdown:

  * You combine **foreign keys from two tables** to form a **new key** in a **third table**.
  * This can help in **many-to-many relationships**.
* Example:

  * `StudentID` from `Students`
  * `CourseID` from `Courses`
  * In a `StudentCourse` table, the **Compound Key** could be `{StudentID, CourseID}`.

### **8. Surrogate Key**

**Definition**:
A **fake/artificial key**, often just a **number**, automatically generated by the database.

**Explanation**:

* A **surrogate key** doesn’t come from real-world data.
* It’s just used to **uniquely identify rows**.
* Usually, it’s an **auto-incremented number**.
* Example:

  * In `Customers` table:

    * Instead of using `Name` and `Phone` as keys,
    * You just create a `CustomerID` that starts from 1, 2, 3...

**Uses**:

1. Generated by the database.
2. Usually an **integer**.
3. Can also be used as a **Primary Key**.

### ✅ Summary Table:

| Key Type      | Purpose                                  | Example                        |
| ------------- | ---------------------------------------- | ------------------------------ |
| Super Key     | Any combo that uniquely identifies a row | `{StudentID, Name}`            |
| Candidate Key | Minimal Super Key                        | `{StudentID}`, `{PhoneNumber}` |
| Primary Key   | Chosen Candidate Key                     | `{StudentID}`                  |
| Alternate Key | Other Candidate Keys not chosen as PK    | `{PhoneNumber}`                |
| Foreign Key   | Links two tables                         | `StudentID` in `Marks` table   |
| Composite Key | PK made of multiple columns              | `{OrderID, ProductID}`         |
| Compound Key  | Key formed using multiple FKs            | `{StudentID, CourseID}`        |
| Surrogate Key | Artificial key made by DB                | `CustomerID = 1, 2, 3, …`      |



---


### ✅ **1. ER Model vs Relational Model (Relation vs Foreign Key)**

You're absolutely right:

* In the **ER (Entity-Relationship) model**, we show **relationships** between entities using a **diamond shape** (♦).

  * For example: `Student` —♦— `Course`
    (This means students are enrolled in courses.)

* When we **convert the ER model to a relational model** (tables in databases), we implement that **relationship** using a **Foreign Key**.

  **Why foreign key?**

  * It links one table (child) to another table (parent).
  * It ensures **referential integrity**, meaning the value in the child table **must exist** in the parent table.

  **Example**:

  * `Students(StudentID, Name)`
  * `Courses(CourseID, Name)`
  * `Enrollments(EnrollmentID, StudentID, CourseID)`

  → `StudentID` and `CourseID` in `Enrollments` are **Foreign Keys** linking to `Students` and `Courses` respectively.

### ✅ **2. Real-World Example of Compound Key**

Let’s take a real-world case from **college**:

#### Scenario:

You want to track which **students** enrolled in which **courses**, and also store **grades**.

You can have:

* `Students(StudentID, Name)`
* `Courses(CourseID, Title)`
* Now, to store enrollment and grades, you need another table:

```sql
StudentCourse(
  StudentID,
  CourseID,
  Grade
)
```

Here:

* `StudentID` → foreign key referencing `Students`
* `CourseID` → foreign key referencing `Courses`

Now the combination of **StudentID + CourseID**:

* Is **unique** for each row (a student can't take the same course twice).
* Is made of **2 foreign keys**.

✅ So this combo `{StudentID, CourseID}` is a **Compound Key**:

* It **uniquely identifies** each enrollment.
* It's made of **two foreign keys** → hence, compound key.

### ✅ **3. Are All Surrogate Keys Primary Keys?**

Very good question — and almost correct! Let’s explain it clearly.

#### What is a Surrogate Key?

* It’s an **auto-generated** identifier.
* Often a number (like 1, 2, 3, 4…) created by the **database system itself**.
* It **doesn’t come from real-world data**.
* We use it **just to uniquely identify each row**.

#### Do we always use it as the Primary Key?

✅ **Yes, in most practical implementations**, especially in apps and web systems, we use surrogate keys as **Primary Keys**, because:

* They are **simple**.
* They **never change** (unlike names or phone numbers).
* Easy for the system to auto-generate.
* They make joins between tables **faster**.

#### Example in a real-world app:

Imagine an **e-commerce app**:

* You have a `Users` table:

```sql
Users(
  UserID INT AUTO_INCREMENT PRIMARY KEY, -- Surrogate Key
  Name VARCHAR(100),
  Email VARCHAR(100)
)
```

Every time a new user signs up, the database **automatically assigns** the next available ID.

So yes:
✔ **Surrogate keys are typically used as Primary Keys**, especially when connecting your database with a backend app, mobile app, or web platform.

### ✅ Summary

| Concept                   | Meaning                                         | Real-life Example                                       |
| ------------------------- | ----------------------------------------------- | ------------------------------------------------------- |
| ER Model relation         | Represented using diamonds                      | Student "enrolled in" Course                            |
| Relational Model relation | Implemented using **Foreign Keys**              | `Enrollments(StudentID → Students, CourseID → Courses)` |
| Compound Key              | A unique key made of **multiple foreign keys**  | `StudentID + CourseID` in `StudentCourse` table         |
| Surrogate Key             | Artificial key, often **auto-incremented**      | `UserID` in a Users table, assigned by DB               |
| Surrogate = Primary?      | **Usually yes**, for simplicity and performance | Used in most apps to uniquely identify records          |


